<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abrir site no navegador</title>
  <meta name="robots" content="noindex,nofollow" />
  <style>
    :root{
      --bg:#0f0f10;
      --card:#17181a;
      --text:#f3f3f3;
      --muted:#b9bcc3;
      --btn:#ffffff;
      --btnText:#0f0f10;
      --outline:rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100svh;
      display:grid; place-items:center;
      background: radial-gradient(1200px 600px at 30% 10%, rgba(255,255,255,.08), transparent 60%),
                  radial-gradient(900px 500px at 70% 80%, rgba(255,255,255,.06), transparent 60%),
                  var(--bg);
      color:var(--text);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      padding:24px;
    }
    .card{
      width:min(520px, 100%);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--outline);
      border-radius:20px;
      padding:22px;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
    }
    h1{font-size:20px; margin:0 0 8px}
    p{margin:0 0 14px; color:var(--muted); line-height:1.45}
    .url{
      word-break:break-all;
      padding:10px 12px;
      border:1px dashed var(--outline);
      border-radius:12px;
      background: rgba(0,0,0,.25);
      color: var(--text);
      font-size:13px;
      margin:12px 0 16px;
    }
    .btns{display:grid; gap:10px; margin-top:10px}
    button, a.btn{
      appearance:none; border:0; cursor:pointer;
      padding:12px 14px;
      border-radius:14px;
      font-weight:700;
      font-size:15px;
      text-decoration:none;
      display:flex; align-items:center; justify-content:center;
      gap:10px;
      transition: transform .08s ease, opacity .2s ease;
      user-select:none;
    }
    button:active, a.btn:active{transform: scale(.99)}
    .primary{background:var(--btn); color:var(--btnText)}
    .secondary{
      background: transparent;
      color: var(--text);
      border:1px solid var(--outline);
    }
    .hint{
      margin-top:14px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--outline);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size:13px;
    }
    .ok{
      color:#b6ffcf;
      font-weight:700;
    }
    .small{font-size:12px; opacity:.95}
  </style>
</head>
<body>
  <main class="card">
    <h1>Abrir no navegador externo</h1>
    <p>O Instagram √†s vezes bloqueia redirecionamentos dentro do app. Para evitar tela branca, toque no bot√£o abaixo.</p>

    <div class="url" id="urlBox">https://www.ministeriofamanvesperanca.com.br</div>

    <div class="btns">
      <button class="primary" id="openBtn">üîó Abrir site agora</button>
      <button class="secondary" id="copyBtn">üìã Copiar link</button>
      <a class="btn secondary" id="plainLink" href="https://www.ministeriofamanvesperanca.com.br" target="_blank" rel="noopener noreferrer">
        üåê Abrir (link normal)
      </a>
    </div>

    <div class="hint" id="hintBox" style="display:none"></div>

    <p class="small" style="margin-top:14px">
      Dica: se aparecer tela branca, toque em <b>‚ãØ</b> (canto superior) e escolha <b>‚ÄúAbrir no navegador‚Äù</b>.
    </p>
  </main>

  <script>
    const TARGET = "https://www.ministeriofamanvesperanca.com.br";

    function isInAppBrowser() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      // Instagram / Facebook in-app (inclui varia√ß√µes)
      return /Instagram|FBAN|FBAV|FB_IAB|FBIOS|FB4A|Messenger/i.test(ua);
    }

    function androidIntentUrl(url) {
      // Converte https://dominio/path para intent://dominio/path#Intent;scheme=https;package=com.android.chrome;end
      // Isso costuma for√ßar abertura fora do in-app (quando permitido)
      try {
        const u = new URL(url);
        const path = (u.pathname || "/") + (u.search || "") + (u.hash || "");
        return `intent://${u.host}${path}#Intent;scheme=${u.protocol.replace(":","")};package=com.android.chrome;end`;
      } catch (e) {
        return url;
      }
    }

    function openExternal() {
      const ua = navigator.userAgent || "";
      const isiOS = /iPhone|iPad|iPod/i.test(ua);
      const isAndroid = /Android/i.test(ua);

      // 1) Tentativa com clique do usu√°rio (melhor chance)
      // Tenta abrir em nova aba/janela
      const w = window.open(TARGET, "_blank", "noopener,noreferrer");

      // 2) Se estiver no Instagram/Facebook e for Android, tenta intent:// (frequentemente ajuda)
      if (isInAppBrowser() && isAndroid) {
        setTimeout(() => {
          window.location.href = androidIntentUrl(TARGET);
        }, 150);
      }

      // 3) Fallback: navega direto (pode continuar no in-app, mas pelo menos abre)
      setTimeout(() => {
        if (!w) window.location.href = TARGET;
      }, 450);

      // Mensagem de ajuda
      const hint = document.getElementById("hintBox");
      if (isInAppBrowser()) {
        hint.style.display = "block";
        hint.innerHTML =
          `Se n√£o abrir fora do Instagram, use: <br><b>‚ãØ</b> ‚Üí <b>Abrir no navegador</b>.<br>` +
          (isiOS ? `No iPhone, √†s vezes √© necess√°rio escolher <b>Abrir no Safari</b>.` : `No Android, escolha <b>Abrir no Chrome</b>.`);
      }
    }

    async function copyLink() {
      try {
        await navigator.clipboard.writeText(TARGET);
        const hint = document.getElementById("hintBox");
        hint.style.display = "block";
        hint.innerHTML = `<span class="ok">Link copiado!</span> Agora cole no Chrome/Safari para abrir fora do Instagram.`;
      } catch (e) {
        // fallback antigo
        const temp = document.createElement("textarea");
        temp.value = TARGET;
        document.body.appendChild(temp);
        temp.select();
        document.execCommand("copy");
        document.body.removeChild(temp);
        const hint = document.getElementById("hintBox");
        hint.style.display = "block";
        hint.innerHTML = `<span class="ok">Link copiado!</span> Cole no navegador para abrir externamente.`;
      }
    }

    document.getElementById("openBtn").addEventListener("click", openExternal);
    document.getElementById("copyBtn").addEventListener("click", copyLink);

    // N√£o redireciona automaticamente (isso costuma causar a ‚Äútela branca‚Äù
